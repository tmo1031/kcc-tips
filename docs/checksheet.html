<!DOCTYPE html>
<html lang="ja">

<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-9W0RED852G"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-9W0RED852G');
  </script>

  <!-- jQuery and Google Charts -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://www.gstatic.com/charts/loader.js"></script>

  <!-- Custom scripts -->
  <script src="io.js"></script>
  <script src="update.js"></script>
  <script src="subjects.js"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>慶應通信 卒業要件チェックシート</title>
  <style>
    select {
      width: 100%;
      /* コンテナの幅に合わせる */
      box-sizing: border-box;
      /* パディングとボーダーを含めた幅計算 */
    }

    .no-style-select {
      width: auto;
      /* 幅を自動調整 */
    }

    .overlayMid,
    .overlayInner,
    .overlay-label {
      display: block;
      text-align: center;
      position: absolute;
    }

    .overlay-label {
      width: 36px;
      height: 36px;
      top: 100px;
      left: 100px;
      margin-top: 0px;
      font-size: 32px;
    }

    .overlayMid {
      width: 240px;
      height: 50px;
      top: -30px;
      left: 30px;
      margin-top: 60px;
      font-size: 80px;
    }

    .overlayInner {
      width: 144px;
      height: 50px;
      top: 0px;
      left: 60px;
      margin-top: 60px;
      font-size: 80px;
    }

    #JSFiddle,
    #JSFiddle2 {
      position: relative;
    }

    /* タブスタイル */
    .tabs {
      margin-top: 50px;
      padding-bottom: 40px;
      background-color: #fff;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      width: 100%;
      margin: 0 auto;
    }

    .tab_item {
      width: calc(100% / 5);
      height: 50px;
      border-bottom: 3px solid #5ab4bd;
      background-color: #d9d9d9;
      line-height: 50px;
      font-size: 16px;
      color: #565656;
      display: block;
      float: left;
      text-align: center;
      font-weight: bold;
      transition: all 0.2s ease;
    }

    .tab_item:hover {
      opacity: 0.75;
    }

    /* ラジオボタンを全て消す */
    input[name="tab_item"] {
      display: none;
    }

    /* タブコンテンツ */
    .tab_content {
      display: none;
      padding: 40px;
      clear: both;
      overflow: hidden;
    }

    #plan:checked~#plan_content,
    #actual:checked~#actual_content,
    #input:checked~#input_content,
    #output:checked~#output_content,
    #interface:checked~#interface_content {
      display: block;
    }

    .tabs input:checked+.tab_item {
      background-color: #5ab4bd;
      color: #fff;
    }

    /* 共通テーブルスタイル */
    .inputTable,
    .gradeTable {
      font-size: 6px;
    }

    /* テーブルセルスタイル */
    .unit,
    .entry,
    .approve,
    .submit,
    .req,
    .prog {
      text-align: center;
    }

    /* 特殊なスタイル */
    .done {
      text-align: center;
      background-color: limegreen;
    }

    .none {
      text-align: center;
    }

    .term-column {
      width: 130px;
      text-align: left;
      font-size: 15px;
    }

    @media (max-width: 600px) {
      .term-column {
        width: 80px;
        text-align: left;
        font-size: 10px;
      }

      .label-text {
        font-size: 0.8em;
      }
    }

    .subject-column {
      width: auto;
    }

    .hidden {
      display: none;
    }

    .radio-group {
      display: flex;
      flex-wrap: wrap;
      /* アイテムをラップさせる */
    }

    .radio-group label {
      margin-right: 10px;
      /* 横並びのときのスペース */
    }

    /* 画面幅が狭いときのスタイル */
    @media (max-width: 600px) {
      .radio-group {
        flex-direction: column;
        /* 縦に並べる */
        align-items: flex-start;
        /* 左寄せ */
      }

      .radio-group label {
        margin-right: 0;
        /* 縦並びのときのスペースを削除 */
        margin-bottom: 10px;
        /* 縦並びのときのスペース */
      }
    }

    .unit-input {
      width: 30px;
    }
  </style>
</head>

<body>
  <a href="index.html">Top に戻る</a>
  <div class="tabs">
    <input id="plan" type="radio" name="tab_item" checked>
    <label class="tab_item" for="plan">計画</label>
    <input id="actual" type="radio" name="tab_item">
    <label class="tab_item" for="actual">実績</label>
    <input id="input" type="radio" name="tab_item">
    <label class="tab_item" for="input">取得単位</label>
    <input id="output" type="radio" name="tab_item">
    <label class="tab_item" for="output">卒業要件</label>
    <input id="interface" type="radio" name="tab_item">
    <label class="tab_item" for="interface">入出力</label>

    <div class="tab_content" id="plan_content">
      <div class="tab_content_description">
        <div class="plan">
          <label class="Profile">学籍情報</label>
          <div class="input-profile">
            <form method="get" action="">
              <input id="year_1" type="number" size="8" name="year" value="2025" min="2000" max="2100" step="1">
              <select id="month_1" name="" class="no-style-select">
                <option value="">入学月
                <option value=4>4月入学
                <option value=10>10月入学
              </select>
              <BR>
              <select id="department_1" name="department" class="no-style-select">
                <option value="">学部
                <option>文学部</option>
                <option>経済学部</option>
                <option>法学部</option>
              </select>
              <select id="section_1" name="section" class="no-style-select"></select>
              <BR>
              <select id="course_1" name="course" class="no-style-select">
                <option value="">入学課程
                <option>普通課程</option>
                <option>特別課程</option>
                <option>学士入学</option>
              </select>
              <select id="language_1" name="language" class="no-style-select">
                <option value="">外語
                <option>英語</option>
                <option>ドイツ語</option>
                <option>フランス語</option>
              </select>
              <BR>
              <label>認定単位:</label>
              <label><input id="apply_stat_1" type="checkbox">統計</label>
              <label><input id="apply_fl1_1" type="checkbox">外語</label>
              <BR>
              <label>仮認定単位:</label>
              <label><input id="apply_temp_e" type="checkbox">英</label>
              <label><input id="apply_temp_g" type="checkbox">独</label>
              <label><input id="apply_temp_f" type="checkbox">仏</label>
              <BR>
              <label>英語2単位(テキストorメディア)履修完了時期:</label>
              <BR>
              <label>英語スクーリング受講資格:</label>
              <BR>
              <label><input id='years' type='number' size="1" value='0' min="0" max="20">年</label>
              <input id='months' type='number' size="1" value='0' min="0" max="6" step="6">ヶ月で卒業予定</label>
            </form>
          </div>
          <div id="dropdownsContainer"></div>
          <table id="PlanningTable">
            <thead>
              <tr>
                <th class="term-column">受講時期</th>
                <th class="subject-column">A群</th>
                <th class="subject-column">B群</th>
                <th class="subject-column">C群</th>
                <th class="subject-column">D群</th>
                <th class="subject-column">E群</th>
                <th class="subject-column">F群</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <input type="file" id="csvFileInput" accept=".csv">
          <input type="button" value="読み込み" onclick="readPlanningTable()">
          <input type="button" value="書き出し" onclick="writePlanningTable()">
          <input type="button" value="未入力を空白に" onclick="whiteOut()">
        </div>
      </div>
    </div>
    <div class="tab_content" id="actual_content">
      <div class="tab_content_description">
        <div class="actual">
          <table id="ActualTable">
            <thead>
              <tr>
                <th class="term-column">受講時期</th>
                <th>科目名</th>
                <th>評価</th>
                <th>レポ</th>
                <th>単位数</th>
                <th>区分</th>
                <th>形態</th>
              </tr>
            </thead>
            <tbody id="ActualBody">
            </tbody>
            <tfoot>
              <tr>
                <td>合計単位数</td>
                <td></td>
                <td></td>
                <td></td>
                <td id="totalUnit">0</td>
                <td></td>
                <td></td>
              </tr>
            </tfoot>
          </table>
          <input type="file" id="csvFileInput2" accept=".csv">
          <input type="button" value="読み込み" onclick="readPlanningTable()">
          <input type="button" value="書き出し" onclick="writePlanningTable()">
        </div>
      </div>
    </div>
    <div class="tab_content" id="input_content">
      <div class="tab_content_description">
        <div class="input">
          <label class="Profile">学籍情報</label>
          <div class="input-profile">
            <form method="get" action="">
              <input id="year" type="number" size="8" name="year" value="2025" min="2000" max="2100" step="1">
              <select id="month" name="" class="no-style-select">
                <option value="">入学月
                <option value=4>4月入学
                <option value=10>10月入学
              </select>
              <BR>
              <select id="department" name="department" class="no-style-select">
                <option value="">学部
                <option>文学部</option>
                <option>経済学部</option>
                <option>法学部</option>
              </select>
              <select id="section" name="section" class="no-style-select"></select>
              <BR>
              <select id="course" name="course" class="no-style-select">
                <option value="">入学課程
                <option>普通課程</option>
                <option>特別課程</option>
                <option>学士入学</option>
              </select>
              <select id="language" name="language" class="no-style-select">
                <option value="">外語
                <option>英語</option>
                <option>ドイツ語</option>
                <option>フランス語</option>
              </select>
              <BR>
              <label>認定単位:</label>
              <label><input id="apply_stat" type="checkbox">統計</label>
              <label><input id="apply_fl1" type="checkbox">外語</label>
            </form>
          </div>
          <hr>
          <div class="input-grades">
            <label class="Grades">取得単位</label>
            <table id="inputTable">
              <thead>
                <tr>
                  <th class="major"></th>
                  <th class="minor">詳細</th>
                  <th class="text">T</th>
                  <th class="school">S</th>
                  <th class="media">M/B</th>
                  <th class="subjNum">科目数</th>
                </tr>
              </thead>
              <tbody id="inputTableBody">
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="tab_content" id="output_content">
      <div class="tab_content_description">
        <div class="output-area">
          <label class="Required">卒業要件</label>
          <table id="gradeTable">
            <thead>
              <tr>
                <th class="major"></th>
                <th class="minor">詳 細 </th>
                <th class="unit">取得</th>
                <th class="entry">登録</th>
                <th class="approve">申告</th>
                <th class="submit">提出</th>
                <th class="graduate">卒業</th>
                <th class="prog">進捗</th>
              </tr>
            </thead>
            <tbody id="gradeTableBody">
            </tbody>
          </table>
        </div>
        <br>
        <label class="Graph1">総合・専門区分</label>
        <div id="JSFiddle">
          <div id="donutChartUpOuter"></div>
          <div id="donutChartUpMiddle" class="overlayMid"></div>
          <div id="donutChartUpInner" class="overlayInner"></div>
          <div id="total_units" class="overlay-label">0</div>
        </div>
        <br>
        <label class="Graph2">テキスト・スクーリング区分</label>
        <div id="JSFiddle2">
          <div id="donutChartDownOuter"></div>
          <div id="donutChartDownMiddle" class="overlayMid"></div>
          <div id="total_units2" class="overlay-label">0</div>
        </div>
      </div>
    </div>
    <div class="tab_content" id="interface_content">
      <div class="tab_content_description">
        <div class="text-area">
          <form name="form">
            <label>コメント：(27字以内)<br><input type="text" id="commentText" class="txt"></label>
            <br>
            <label>入出力用テキストフォーム</label>
            <br>
            <textarea cols="30" rows="20" name="GradesTable" id="textarea"></textarea>
            <br>
            <input type="button" value="読み込み" onclick="readUnitTable()">
            <input type="button" value="書き出し" onclick="writeUnitTable()">
          </form>
        </div>
      </div>
    </div>
  </div>
  <hr>
  <h3>入力上の注意</h3>
  <ol>
    <li>認定単位には仮認定は含みません</li>
    <li>統計学の認定単位の有無は入学時の成績証明書を確認下さい</li>
    <li>外国語の認定単位は慶應通信/通学卒業者のみ認定されます</li>
    <li>自然科学の単位は統計学を含んだ単位数で入力下さい</li>
    <li>英語のスクーリングには履修資格がありますが、このツールの計画表では資格判定していません</li>
  </ol>
  <hr>
  <h3>このツールで判定できない卒業要件</h3>
  <ol>
    <li>必修外国語の組み合わせを判定しません</li>
    <li>重複履修等で無効になる単位数を判定しません</li>
    <li>特別課程で認定単位がある場合に保健体育などで上限を超過する単位数を判定しません</li>
  </ol>
</body>

</html>